#include <iostream>
#include <string>
#include "UMemoria.h"

using namespace std;

/*
 1.Crear
 2.Pedir espacio
 3.Liberar espacio
 4.Poner dato
 5.Mostrar Memoria
 6.Salir
 */
void menu();

int main() {
	/* CSMemoria* mem = new CSMemoria();
	 int punto = mem->new_espacio("x,y,z");
	 mem->poner_dato(punto, "->x", 10);
	 mem->poner_dato(punto, "->y", -10);
	 mem->poner_dato(punto, "->z", 99);
	 int datos = mem->new_espacio("codigo,telefono");
	 mem->poner_dato(datos, "->codigo", 100101);
	 mem->poner_dato(datos, "->telefono", 76352623);
	 cout << "Disponible: " << mem->espacio_disponible() << endl;
	 cout << "Ocupado: " << mem->espacio_ocupado() << endl;
	 mem->mostrar();
	 mem->delete_espacio(punto);
	 mem->new_espacio("piernas,brazos,muñecas,cabeza");
	 cout << "Disponible: " << mem->espacio_disponible() << endl;
	 cout << "Ocupado: " << mem->espacio_ocupado() << endl;
	 mem->mostrar(); */
	string s;
	menu();
	system("pause");
	return 0;
}

void menu() {
	CSMemoria* mem;
	int opcion;
	do {
		cout << "1.Crear" << endl;
		cout << "2.Pedir espacio" << endl;
		cout << "3.Liberar espacio" << endl;
		cout << "4.Poner dato" << endl;
		cout << "5.Mostrar Memoria" << endl;
		cout << "6.Salir" << endl;
		cout << "Opcion: ";
		cin >> opcion;
		switch (opcion) {
		case 1: {
				mem = new CSMemoria();
				cout << "Memoria Creada\n";
			} break;
		case 2: {
				string ids;
				cout << "Ids: ";
				getline(cin, ids);
				mem->new_espacio(ids);
			} break;
		case 3: {
				int dir_delete;
				cout << "Direccion a liberar: ";
				cin >> dir_delete;
				mem->delete_espacio(dir_delete);
			} break;
		case 4: {
				int dir, valor;
				string id;
				cout << "Direccion: " << endl;
				cin >> dir;
				cout << "Id: " << dir;
				getline(cin, id);
				cout << "Valor: " << endl;
				cin >> valor;
				mem->poner_dato(dir, id, valor);
			} break;
		case 5: {
				mem->mostrar();
			} break;
		}
	}
	while (opcion != 6);
}
